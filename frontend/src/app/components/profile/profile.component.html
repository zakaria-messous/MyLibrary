<app-nav></app-nav>

<div *ngIf="loading" class="loading">Information Loading...</div>

<div *ngIf="!loading && user" class="profile-container">
  <!-- Section Photo de Profil -->
  <div class="profile-header">
    <div class="profile-photo">
      <img src="assets/default-profile.jpg" alt="Photo de profil" />
      <button class="upload-btn" (click)="onUpload()" title="Changer la photo">
        <i class="fas fa-camera"></i> Loading...
      </button>
    </div>
    <h2>profile</h2>
  </div>

  <!-- Formulaire de modification -->
  <form [formGroup]="profileForm" (ngSubmit)="onSubmit()">
    <div class="form-group">
      <label for="fullName">Full Name</label>
      <input id="fullName" formControlName="fullName" type="text" />
    </div>
    <div class="form-group">
      <label for="role">RÃ´le</label>
      <input id="role" formControlName="role" type="text" />
    </div>
    <div class="form-group">
      <label for="email">Email</label>
      <input id="email" formControlName="email" type="email" readonly />
    </div>
    <div class="form-actions">
      <button type="submit" class="btn-save" [disabled]="profileForm.invalid">
        Save Modifications
      </button>
    </div>
  </form>
</div>

<div *ngIf="!loading && !user">
  <p>No User Information!</p>
</div>
<app-mybooks [showNavbar]="false"></app-mybooks>
